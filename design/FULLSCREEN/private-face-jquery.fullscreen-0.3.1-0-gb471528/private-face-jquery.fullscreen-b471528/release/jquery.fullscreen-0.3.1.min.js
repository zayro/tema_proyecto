/*
 * jQuery.fullscreen library v0.3.1
 * Copyright (c) 2013 Vladimir Zhuravlev
 *
 * Released under MIT License
 *
 * Date: Tue Jan 29 20:37:02 ICT 2013
 **/(function(a){function f(a,c){var f;typeof a=="string"&&(c=a,a=document);for(var g=0;g<d.length;++g){c=c.replace(d[g][0],d[g][1]);for(var h=0;h<e.length;++h){f=e[h],f+=h===0?c:c.charAt(0).toUpperCase()+c.substr(1);if(b(a[f]))return a[f]}}return void 0}function c(b,c,d){var e=function(){};e.prototype=c.prototype,b.prototype=new e,b.prototype.constructor=b,c.prototype.constructor=c,b._super=c.prototype,d&&a.extend(b.prototype,d)}function b(a){return typeof a!="undefined"}var d=[["",""],["exit","cancel"],["screen","Screen"]],e=["","o","ms","moz","webkit"],g=b(f("fullscreenElement")),h=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={},this._init()};h.prototype={__DEFAULT_OPTIONS:{styles:{width:"100%",height:"100%",position:"fixed",zIndex:"2147483647",boxSizing:"border-box",MozBoxSizing:"border-box",WebkitBoxSizing:"border-box",left:0,top:0,bottom:0,right:0},toggleClass:"",documentScroll:!1},__documentOverflow:"",_preventDocumentScroll:function(){this.__options.documentScroll||(this.__documentOverflow=a("body").css("overflow"),a("body").css("overflow","hidden"))},_allowDocumentScroll:function(){this.__options.documentScroll||a("body").css("overflow",this.__documentOverflow)},_init:function(){},_fullScreenChange:function(){this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null)},_fullScreenError:function(){this._revertStyles(),this._fullScreenElement=null},_triggerEvents:function(){a(this._fullScreenElement).trigger(this.isFullScreen()?"fscreenopen":"fscreenclose"),a(document).trigger("fscreenchange",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var b=a(this._fullScreenElement);this.__savedStyles={};for(var c in this.__options.styles)this.__savedStyles[c]=this._fullScreenElement.style[c],this._fullScreenElement.style[c]=this.__options.styles[c];this.__options.toggleClass&&b.addClass(this.__options.toggleClass)},_revertStyles:function(){var b=a(this._fullScreenElement);for(var c in this.__options.styles)this._fullScreenElement.style[c]=this.__savedStyles[c];this.__options.toggleClass&&b.removeClass(this.__options.toggleClass)},open:function(b,c){b!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=b,this.__options=a.extend(!0,{},this.__DEFAULT_OPTIONS,c),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return g}};var i=function(){i._super.constructor.apply(this,arguments),this.exit=a.proxy(f("exitFullscreen"),document)};c(i,h,{VENDOR_PREFIXES:["","o","ms","moz","webkit"],_init:function(){i._super._init.apply(this,arguments),a(document).bind(this._prefixedString("fullscreenchange"),a.proxy(this._fullScreenChange,this)).bind(this._prefixedString("fullscreenerror"),a.proxy(this._fullScreenError,this))},_prefixedString:function(b){return a.map(this.VENDOR_PREFIXES,function(a){return a+b}).join(" ")},open:function(a,b){i._super.open.apply(this,arguments);var c=f(a,"requestFullscreen");c.call(a)},exit:a.noop,isFullScreen:function(){return f("fullscreenElement")!==null}});var j=function(){j._super.constructor.apply(this,arguments)};c(j,h,{__JQ_LT_17:parseFloat(a.fn.jquery)<1.7,__isFullScreen:!1,__allowedKeys:[37,39,38,40,32,33,34,36,35,9,16,17,18,224,91],__delegateKeydownHandler:function(){var b=a(document);b.delegate("*","keydown.fullscreen",a.proxy(this.__keydownHandler,this));var c=this.__JQ_LT_17?b.data("events"):a._data(document).events,d=c.keydown;this.__JQ_LT_17?c.live.unshift(c.live.pop()):d.splice(0,0,d.splice(d.delegateCount-1,1)[0])},__keydownHandler:function(b){if(!this.isFullScreen()||a.inArray(b.which,this.__allowedKeys)!==-1)return!0;this.exit();return!1},_init:function(){j._super._init.apply(this,arguments),this.__delegateKeydownHandler()},open:function(a){j._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){this.__isFullScreen=!1,this._fullScreenChange()},isFullScreen:function(){return this.__isFullScreen}}),a.fullscreen=g?new i:new j,a.fn.fullscreen=function(b){var c=this[0];b=a.extend({toggleClass:null,overflow:"hidden"},b),b.styles={overflow:b.overflow},delete b.overflow,c&&a.fullscreen.open(c,b);return this}})(jQuery)